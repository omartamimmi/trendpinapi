{
    "sourceFile": "Modules/StagedForm/Services/StagedFormService.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 24,
            "patches": [
                {
                    "date": 1758612477219,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1758612482340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,2 +1,2 @@\n <?php\n-names\n\\ No newline at end of file\n+namespace Mod\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612494749,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,2 +1,6 @@\n <?php\n-namespace Mod\n\\ No newline at end of file\n+namespace Modules\\StagedForm\\Services;\n+\n+use App\\Abstractions\\Service;\n+\n+class StagedFormService extends Service\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612506157,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,5 +2,8 @@\n namespace Modules\\StagedForm\\Services;\n \n use App\\Abstractions\\Service;\n \n-class StagedFormService extends Service\n\\ No newline at end of file\n+class StagedFormService extends Service\n+{\n+    public\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612511567,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,6 +4,11 @@\n use App\\Abstractions\\Service;\n \n class StagedFormService extends Service\n {\n-    public\n+    public function __construct()\n+    {\n+        \n+    }() : Returntype {\n+        \n+    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612520025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,11 +4,6 @@\n use App\\Abstractions\\Service;\n \n class StagedFormService extends Service\n {\n-    public function __construct()\n-    {\n-        \n-    }() : Returntype {\n-        \n-    }\n+    public function __construct(){}\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612527634,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,6 +4,6 @@\n use App\\Abstractions\\Service;\n \n class StagedFormService extends Service\n {\n-    public function __construct(){}\n+    public function __construct(protected Sta){}\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612535041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,10 @@\n <?php\n namespace Modules\\StagedForm\\Services;\n \n use App\\Abstractions\\Service;\n+use Modules\\StagedForm\\Repositories\\StagedFormRepository;\n \n class StagedFormService extends Service\n {\n-    public function __construct(protected Sta){}\n+    public function __construct(protected StagedFormRepository $st){}\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612564760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,6 +5,14 @@\n use Modules\\StagedForm\\Repositories\\StagedFormRepository;\n \n class StagedFormService extends Service\n {\n-    public function __construct(protected StagedFormRepository $st){}\n+    public function __construct(protected StagedFormRepository $stagedFormRepository){}\n+\n+        public function saveForm(): static\n+    {\n+        $data = $this->getStagedFormObject();\n+        $stagedForm = $this->stagedFormRepository->updateOrCreate($data['step'], $data['stage_type'], $data['user_id'], $data);\n+        $this->setOutput('stagedForm', $stagedForm);\n+        return $this;\n+    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612579312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,12 +7,56 @@\n class StagedFormService extends Service\n {\n     public function __construct(protected StagedFormRepository $stagedFormRepository){}\n \n-        public function saveForm(): static\n+    public function saveForm(): static\n     {\n         $data = $this->getStagedFormObject();\n         $stagedForm = $this->stagedFormRepository->updateOrCreate($data['step'], $data['stage_type'], $data['user_id'], $data);\n         $this->setOutput('stagedForm', $stagedForm);\n         return $this;\n     }\n+\n+        private function getStagedFormObject(): array\n+    {\n+        $stageId = $this->getInput('stage_id');\n+        $stageType = $this->getInput('stage_type');\n+        $step = $this->getInput('step');\n+        $userId = $this->getInput('user_id');\n+        $submittedForm = $this->getInput('submitted_form', []);\n+        if (empty($submittedForm['time_zone'])) {\n+            $submittedForm['time_zone'] = 'Asia/Amman';\n+        }\n+\n+        if (empty($submittedForm['bitrix_contact_id'])) {\n+            $submittedForm['bitrix_contact_id'] = $this->getInput('bitrix_contact_id');\n+        }\n+\n+        if (empty($submittedForm['bitrix_deal_id'])) {\n+            $submittedForm['bitrix_deal_id'] = $this->getInput('bitrix_deal_id');\n+        }\n+\n+        if ($stageId) {\n+            $stagedForm = $this->stagedFormRepository->getByStageIdTypeAndStep($stageId, $stageType, $step);\n+            if (!$stagedForm && $this->stagedFormRepository->getStageSubmittedFormsCount($stageId)) {\n+                $stagedForm = new StagedForm();\n+                $stagedForm->stage_id = $stageId;\n+                $stagedForm->user_id = $userId;\n+            }\n+        }\n+\n+        if (!isset($stagedForm)) {\n+            $stagedForm = new StagedForm();\n+            $stagedForm->stage_id = Uuid::uuid4()->toString();\n+            $stagedForm->user_id = $userId;\n+        }\n+\n+        $stagedForm->stage_type = $stageType;\n+        return [\n+            'stage_id' => $stagedForm->stage_id,\n+            'stage_type' => $stageType,\n+            'step' => $step,\n+            'user_id' => $stagedForm->user_id,\n+            'submitted_form' => $submittedForm\n+        ];\n+    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612637762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n <?php\n namespace Modules\\StagedForm\\Services;\n \n use App\\Abstractions\\Service;\n+use Modules\\StagedForm\\Models\\StagedForm;\n use Modules\\StagedForm\\Repositories\\StagedFormRepository;\n \n class StagedFormService extends Service\n {\n@@ -15,9 +16,9 @@\n         $this->setOutput('stagedForm', $stagedForm);\n         return $this;\n     }\n \n-        private function getStagedFormObject(): array\n+    private function getStagedFormObject(): array\n     {\n         $stageId = $this->getInput('stage_id');\n         $stageType = $this->getInput('stage_type');\n         $step = $this->getInput('step');\n"
                },
                {
                    "date": 1758612646614,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n         }\n \n         if (!isset($stagedForm)) {\n             $stagedForm = new StagedForm();\n-            $stagedForm->stage_id = Uuid::uuid4()->toString();\n+            $stagedForm->stage_id = U::uuid4()->toString();\n             $stagedForm->user_id = $userId;\n         }\n \n         $stagedForm->stage_type = $stageType;\n"
                },
                {
                    "date": 1758612657810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n         }\n \n         if (!isset($stagedForm)) {\n             $stagedForm = new StagedForm();\n-            $stagedForm->stage_id = U::uuid4()->toString();\n+            $stagedForm->stage_id = Uu::uuid4()->toString();\n             $stagedForm->user_id = $userId;\n         }\n \n         $stagedForm->stage_type = $stageType;\n"
                },
                {
                    "date": 1758612715487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,13 +3,24 @@\n \n use App\\Abstractions\\Service;\n use Modules\\StagedForm\\Models\\StagedForm;\n use Modules\\StagedForm\\Repositories\\StagedFormRepository;\n+use Ramsey\\Uuid\\Uuid;\n \n class StagedFormService extends Service\n {\n     public function __construct(protected StagedFormRepository $stagedFormRepository){}\n \n+    /**\n+ * Save the staged form for the current user and step.\n+ *\n+ * This method retrieves the staged form object, then persists it\n+ * using the StagedFormRepository. It finally sets the saved staged form\n+ * as output for further use.\n+ *\n+ * @return static Returns the current instance for method chaining.\n+ */\n+\n     public function saveForm(): static\n     {\n         $data = $this->getStagedFormObject();\n         $stagedForm = $this->stagedFormRepository->updateOrCreate($data['step'], $data['stage_type'], $data['user_id'], $data);\n@@ -46,9 +57,9 @@\n         }\n \n         if (!isset($stagedForm)) {\n             $stagedForm = new StagedForm();\n-            $stagedForm->stage_id = Uu::uuid4()->toString();\n+            $stagedForm->stage_id = Uuid::uuid4()->toString();\n             $stagedForm->user_id = $userId;\n         }\n \n         $stagedForm->stage_type = $stageType;\n"
                },
                {
                    "date": 1758612722595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,17 +10,16 @@\n {\n     public function __construct(protected StagedFormRepository $stagedFormRepository){}\n \n     /**\n- * Save the staged form for the current user and step.\n- *\n- * This method retrieves the staged form object, then persists it\n- * using the StagedFormRepository. It finally sets the saved staged form\n- * as output for further use.\n- *\n- * @return static Returns the current instance for method chaining.\n- */\n-\n+     * Save the staged form for the current user and step.\n+     *\n+     * This method retrieves the staged form object, then persists it\n+     * using the StagedFormRepository. It finally sets the saved staged form\n+     * as output for further use.\n+     *\n+     * @return static Returns the current instance for method chaining.\n+     */\n     public function saveForm(): static\n     {\n         $data = $this->getStagedFormObject();\n         $stagedForm = $this->stagedFormRepository->updateOrCreate($data['step'], $data['stage_type'], $data['user_id'], $data);\n"
                },
                {
                    "date": 1758612750044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,8 +26,24 @@\n         $this->setOutput('stagedForm', $stagedForm);\n         return $this;\n     }\n \n+    /**\n+ * Build the staged form data array for persistence.\n+ *\n+ * This method collects input values (stage_id, stage_type, step, user_id,\n+ * submitted_form) and ensures required defaults are set (e.g. timezone,\n+ * Bitrix IDs). If a staged form exists for the given identifiers, it reuses\n+ * it; otherwise, it creates a new one with a UUID stage_id.\n+ *\n+ * @return array{\n+ *     stage_id: string,\n+ *     stage_type: mixed,\n+ *     step: mixed,\n+ *     user_id: mixed,\n+ *     submitted_form: array\n+ * } The prepared staged form data.\n+ */\n     private function getStagedFormObject(): array\n     {\n         $stageId = $this->getInput('stage_id');\n         $stageType = $this->getInput('stage_type');\n"
                },
                {
                    "date": 1758612813555,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,23 +27,23 @@\n         return $this;\n     }\n \n     /**\n- * Build the staged form data array for persistence.\n- *\n- * This method collects input values (stage_id, stage_type, step, user_id,\n- * submitted_form) and ensures required defaults are set (e.g. timezone,\n- * Bitrix IDs). If a staged form exists for the given identifiers, it reuses\n- * it; otherwise, it creates a new one with a UUID stage_id.\n- *\n- * @return array{\n- *     stage_id: string,\n- *     stage_type: mixed,\n- *     step: mixed,\n- *     user_id: mixed,\n- *     submitted_form: array\n- * } The prepared staged form data.\n- */\n+     * Build the staged form data array for persistence.\n+     *\n+     * This method collects input values (stage_id, stage_type, step, user_id,\n+     * submitted_form) and ensures required defaults are set (e.g. timezone,\n+     * Bitrix IDs). If a staged form exists for the given identifiers, it reuses\n+     * it; otherwise, it creates a new one with a UUID stage_id.\n+     *\n+     * @return array{\n+     *     stage_id: string,\n+     *     stage_type: mixed,\n+     *     step: mixed,\n+     *     user_id: mixed,\n+     *     submitted_form: array\n+     * } The prepared staged form data.\n+     */\n     private function getStagedFormObject(): array\n     {\n         $stageId = $this->getInput('stage_id');\n         $stageType = $this->getInput('stage_type');\n@@ -53,15 +53,15 @@\n         if (empty($submittedForm['time_zone'])) {\n             $submittedForm['time_zone'] = 'Asia/Amman';\n         }\n \n-        if (empty($submittedForm['bitrix_contact_id'])) {\n-            $submittedForm['bitrix_contact_id'] = $this->getInput('bitrix_contact_id');\n-        }\n+        // if (empty($submittedForm['bitrix_contact_id'])) {\n+        //     $submittedForm['bitrix_contact_id'] = $this->getInput('bitrix_contact_id');\n+        // }\n \n-        if (empty($submittedForm['bitrix_deal_id'])) {\n-            $submittedForm['bitrix_deal_id'] = $this->getInput('bitrix_deal_id');\n-        }\n+        // if (empty($submittedForm['bitrix_deal_id'])) {\n+        //     $submittedForm['bitrix_deal_id'] = $this->getInput('bitrix_deal_id');\n+        // }\n \n         if ($stageId) {\n             $stagedForm = $this->stagedFormRepository->getByStageIdTypeAndStep($stageId, $stageType, $step);\n             if (!$stagedForm && $this->stagedFormRepository->getStageSubmittedFormsCount($stageId)) {\n"
                },
                {
                    "date": 1758612883839,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,5 +85,7 @@\n             'user_id' => $stagedForm->user_id,\n             'submitted_form' => $submittedForm\n         ];\n     }\n+\n+    \n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612889837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,6 +86,8 @@\n             'submitted_form' => $submittedForm\n         ];\n     }\n \n-    \n+    private function FunctionName() : Returntype {\n+        \n+    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612898319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,8 +86,11 @@\n             'submitted_form' => $submittedForm\n         ];\n     }\n \n-    private function FunctionName() : Returntype {\n-        \n+    private function stagedForm()\n+    {\n+          $stagedForm = new StagedForm();\n+            $stagedForm->stage_id = Uuid::uuid4()->toString();\n+            $stagedForm->user_id = $userId;    \n     }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612904491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,9 +88,9 @@\n     }\n \n     private function stagedForm()\n     {\n-          $stagedForm = new StagedForm();\n-            $stagedForm->stage_id = Uuid::uuid4()->toString();\n-            $stagedForm->user_id = $userId;    \n+        $stagedForm = new StagedForm();\n+        $stagedForm->stage_id = Uuid::uuid4()->toString();\n+        $stagedForm->user_id = $userId;    \n     }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612954933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,11 +86,43 @@\n             'submitted_form' => $submittedForm\n         ];\n     }\n \n-    private function stagedForm()\n-    {\n+/**\n+ * Resolve an existing staged form by stage ID, type, and step,\n+ * or create a new one if none is found.\n+ *\n+ * @param string|null $stageId\n+ * @param mixed $stageType\n+ * @param mixed $step\n+ * @param mixed $userId\n+ * @return StagedForm\n+ */\n+private function resolveStagedForm(?string $stageId, $stageType, $step, $userId): StagedForm\n+{\n+    if ($stageId) {\n+        $stagedForm = $this->stagedFormRepository->getByStageIdTypeAndStep(\n+            $stageId,\n+            $stageType,\n+            $step\n+        );\n+\n+        if (\n+            !$stagedForm &&\n+            $this->stagedFormRepository->getStageSubmittedFormsCount($stageId)\n+        ) {\n+            $stagedForm = new StagedForm();\n+            $stagedForm->stage_id = $stageId;\n+            $stagedForm->user_id = $userId;\n+        }\n+    }\n+\n+    if (!isset($stagedForm)) {\n         $stagedForm = new StagedForm();\n         $stagedForm->stage_id = Uuid::uuid4()->toString();\n-        $stagedForm->user_id = $userId;    \n+        $stagedForm->user_id = $userId;\n     }\n+\n+    return $stagedForm;\n+}\n+\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612959977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,43 +86,42 @@\n             'submitted_form' => $submittedForm\n         ];\n     }\n \n-/**\n- * Resolve an existing staged form by stage ID, type, and step,\n- * or create a new one if none is found.\n- *\n- * @param string|null $stageId\n- * @param mixed $stageType\n- * @param mixed $step\n- * @param mixed $userId\n- * @return StagedForm\n- */\n-private function resolveStagedForm(?string $stageId, $stageType, $step, $userId): StagedForm\n-{\n-    if ($stageId) {\n-        $stagedForm = $this->stagedFormRepository->getByStageIdTypeAndStep(\n-            $stageId,\n-            $stageType,\n-            $step\n-        );\n+    /**\n+     * Resolve an existing staged form by stage ID, type, and step,\n+     * or create a new one if none is found.\n+     *\n+     * @param string|null $stageId\n+     * @param mixed $stageType\n+     * @param mixed $step\n+     * @param mixed $userId\n+     * @return StagedForm\n+     */\n+    private function resolveStagedForm(?string $stageId, $stageType, $step, $userId): StagedForm\n+    {\n+        if ($stageId) {\n+            $stagedForm = $this->stagedFormRepository->getByStageIdTypeAndStep(\n+                $stageId,\n+                $stageType,\n+                $step\n+            );\n \n-        if (\n-            !$stagedForm &&\n-            $this->stagedFormRepository->getStageSubmittedFormsCount($stageId)\n-        ) {\n+            if (\n+                !$stagedForm &&\n+                $this->stagedFormRepository->getStageSubmittedFormsCount($stageId)\n+            ) {\n+                $stagedForm = new StagedForm();\n+                $stagedForm->stage_id = $stageId;\n+                $stagedForm->user_id = $userId;\n+            }\n+        }\n+\n+        if (!isset($stagedForm)) {\n             $stagedForm = new StagedForm();\n-            $stagedForm->stage_id = $stageId;\n+            $stagedForm->stage_id = Uuid::uuid4()->toString();\n             $stagedForm->user_id = $userId;\n         }\n-    }\n \n-    if (!isset($stagedForm)) {\n-        $stagedForm = new StagedForm();\n-        $stagedForm->stage_id = Uuid::uuid4()->toString();\n-        $stagedForm->user_id = $userId;\n+        return $stagedForm;\n     }\n-\n-    return $stagedForm;\n-}\n-\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758612996323,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,8 +52,9 @@\n         $submittedForm = $this->getInput('submitted_form', []);\n         if (empty($submittedForm['time_zone'])) {\n             $submittedForm['time_zone'] = 'Asia/Amman';\n         }\n+        \n         if ($stageId) {\n             $stagedForm = $this->stagedFormRepository->getByStageIdTypeAndStep($stageId, $stageType, $step);\n             if (!$stagedForm && $this->stagedFormRepository->getStageSubmittedFormsCount($stageId)) {\n                 $stagedForm = new StagedForm();\n"
                },
                {
                    "date": 1758626654051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,140 @@\n+<?php\n+namespace Modules\\StagedForm\\Services;\n+\n+use App\\Abstractions\\Service;\n+use App\\Models\\User;\n+use Modules\\StagedForm\\Models\\StagedForm;\n+use Modules\\StagedForm\\Repositories\\StagedFormRepository;\n+use Ramsey\\Uuid\\Uuid;\n+\n+class StagedFormService extends Service\n+{\n+\n+   public function __construct(\n+        private StagedFormRepository $repository,\n+        private ?User $user = null\n+    ) {}\n+\n+    /**\n+     * Set the authenticated user.\n+     */\n+    public function setAuthUser(User $user): self\n+    {\n+        $this->user = $user;\n+        return $this;\n+    }\n+\n+    /**\n+     * Get staged forms for the authenticated user by type and step.\n+     */\n+    public function getFormsByUser(string $stageType, int $step): ?StagedForm\n+    {\n+        return $this->repository->getStepByUserId($stageType, $step, $this->user->id);\n+    }\n+\n+    /**\n+     * Get a specific staged form and verify ownership.\n+     */\n+    public function getUserStagedForm(string $stageId, string $stageType, int $step): ?StagedForm\n+    {\n+        $stagedForm = $this->repository->getByStageIdTypeAndStep($stageId, $stageType, $step);\n+\n+        if (!$stagedForm || $stagedForm->user_id !== $this->user->id) {\n+            return null;\n+        }\n+\n+        return $stagedForm;\n+    }\n+\n+    /**\n+     * Save the staged form for the current user and step.\n+     *\n+     * This method retrieves the staged form object, then persists it\n+     * using the StagedFormRepository. It finally sets the saved staged form\n+     * as output for further use.\n+     *\n+     * @return static Returns the current instance for method chaining.\n+     */\n+    public function saveForm(): static\n+    {\n+        $data = $this->getStagedFormObject();\n+        $stagedForm = $this->repository->updateOrCreate($data['step'], $data['stage_type'], $data['user_id'], $data);\n+        $this->setOutput('stagedForm', $stagedForm);\n+        return $this;\n+    }\n+\n+    /**\n+     * Build the staged form data array for persistence.\n+     *\n+     * @return array{\n+     *     stage_id: string,\n+     *     stage_type: mixed,\n+     *     step: mixed,\n+     *     user_id: mixed,\n+     *     submitted_form: array\n+     * }\n+     */\n+    private function getStagedFormObject(): array\n+    {\n+        $stageId = $this->getInput('stage_id');\n+        $stageType = $this->getInput('stage_type');\n+        $step = $this->getInput('step');\n+        $userId = $this->user;\n+        $submittedForm = $this->getInput('submitted_form', []);\n+\n+        // Ensure defaults\n+        if (empty($submittedForm['time_zone'])) {\n+            $submittedForm['time_zone'] = 'Asia/Amman';\n+        }\n+\n+        // Resolve existing or new staged form\n+        $stagedForm = $this->resolveStagedForm($stageId, $stageType, $step, $userId);\n+        $stagedForm->stage_type = $stageType;\n+\n+        return [\n+            'stage_id'       => $stagedForm->stage_id,\n+            'stage_type'     => $stageType,\n+            'step'           => $step,\n+            'user_id'        => $stagedForm->user_id,\n+            'submitted_form' => $submittedForm,\n+        ];\n+    }\n+\n+    /**\n+     * Resolve an existing staged form by stage ID, type, and step,\n+     * or create a new one if none is found.\n+     *\n+     * @param string|null $stageId\n+     * @param mixed       $stageType\n+     * @param mixed       $step\n+     * @param mixed       $userId\n+     * @return StagedForm\n+     */\n+    private function resolveStagedForm(?string $stageId, $stageType, $step, $userId): StagedForm\n+    {\n+        if ($stageId) {\n+            $stagedForm = $this->repository->getByStageIdTypeAndStep(\n+                $stageId,\n+                $stageType,\n+                $step\n+            );\n+\n+            if (\n+                !$stagedForm &&\n+                $this->repository->getStageSubmittedFormsCount($stageId)\n+            ) {\n+                $stagedForm = new StagedForm();\n+                $stagedForm->stage_id = $stageId;\n+                $stagedForm->user_id  = $userId;\n+            }\n+        }\n+\n+        if (!isset($stagedForm)) {\n+            $stagedForm = new StagedForm();\n+            $stagedForm->stage_id = Uuid::uuid4()->toString();\n+            $stagedForm->user_id  = $userId;\n+        }\n+\n+        return $stagedForm;\n+    }\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1758612477219,
            "name": "Commit-0",
            "content": "<?php\nnames"
        }
    ]
}