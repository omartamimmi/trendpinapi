{
    "sourceFile": "Modules/Business/Repositories/BusinessRepository.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1759857024669,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759857058922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n <?php\n \n-namespace Modules\\User\\Repositories;\n+namespace Modules\\Business\\Repositories;\n \n use App\\Models\\User;\n use App\\Models\\NotificationBasedLocation;\n use Spatie\\Permission\\Models\\Role;\n@@ -9,9 +9,9 @@\n \n class BusinessRepository\n {\n \n-    public function getAllUsers()\n+    public function getAllBusinesses()\n     {\n         return User::paginate(10);\n     }\n \n"
                },
                {
                    "date": 1759857077291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,37 +3,38 @@\n namespace Modules\\Business\\Repositories;\n \n use App\\Models\\User;\n use App\\Models\\NotificationBasedLocation;\n+use Modules\\Business\\app\\Models\\Business;\n use Spatie\\Permission\\Models\\Role;\n use Modules\\User\\Filters\\UserFilter;\n \n class BusinessRepository\n {\n \n     public function getAllBusinesses()\n     {\n-        return User::paginate(10);\n+        return Business::paginate(10);\n     }\n \n     public function getUserById($id)\n     {\n-        return User::where('id',$id)->with('roles')->first();\n+        return Business::where('id',$id)->with('roles')->first();\n     }\n \n     public function create($data)\n     {\n-        return User::create($data);\n+        return Business::create($data);\n     }\n \n     public function findUserByEmail($email)\n     {\n-        return User::whereEmail($email)->first();\n+        return Business::whereEmail($email)->first();\n     }\n \n     public function findUserByAppleId($appleId)\n     {\n-        return User::where('appleId',$appleId)->first();\n+        return Business::where('appleId',$appleId)->first();\n     }\n \n     public function changePassword($user)\n     {\n@@ -42,16 +43,16 @@\n     }\n \n     public function update($id, $data, $lang = 'en'): bool\n     {\n-        $user = User::find($id);\n+        $user = Business::find($id);\n         $user->fill($data);\n         return $user->save();\n     }\n \n     public function delete($ids)\n     {\n-        return User::whereIn('id', $ids['ids'])->delete();\n+        return Business::whereIn('id', $ids['ids'])->delete();\n     }\n \n     // public function saveFcmToken($data)\n     // {\n@@ -71,9 +72,9 @@\n     // }\n \n     public function updatePassword($id, $data, $lang = 'en'): bool\n     {\n-        $user = User::where('id',$id)->first();\n+        $user = Business::where('id',$id)->first();\n         $user->password = $data;\n         return $user->save();\n     }\n }\n"
                },
                {
                    "date": 1759857086089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n     {\n         return Business::create($data);\n     }\n \n-    public function findUserByEmail($email)\n+    public function findBusinessByEmail($email)\n     {\n         return Business::whereEmail($email)->first();\n     }\n \n"
                },
                {
                    "date": 1759857099176,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n     {\n         return Business::paginate(10);\n     }\n \n-    public function getUserById($id)\n+    public function getBusinessById($id)\n     {\n         return Business::where('id',$id)->with('roles')->first();\n     }\n \n@@ -30,9 +30,9 @@\n     {\n         return Business::whereEmail($email)->first();\n     }\n \n-    public function findUserByAppleId($appleId)\n+    public function findBusinessByAppleId($appleId)\n     {\n         return Business::where('appleId',$appleId)->first();\n     }\n \n"
                },
                {
                    "date": 1759857109725,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,19 +35,19 @@\n     {\n         return Business::where('appleId',$appleId)->first();\n     }\n \n-    public function changePassword($user)\n+    public function changePassword($)\n     {\n-        $user->save();\n-        return $user->getAttributes();\n+        $->save();\n+        return $->getAttributes();\n     }\n \n     public function update($id, $data, $lang = 'en'): bool\n     {\n-        $user = Business::find($id);\n-        $user->fill($data);\n-        return $user->save();\n+        $ = Business::find($id);\n+        $->fill($data);\n+        return $->save();\n     }\n \n     public function delete($ids)\n     {\n@@ -72,9 +72,9 @@\n     // }\n \n     public function updatePassword($id, $data, $lang = 'en'): bool\n     {\n-        $user = Business::where('id',$id)->first();\n-        $user->password = $data;\n-        return $user->save();\n+        $ = Business::where('id',$id)->first();\n+        $->password = $data;\n+        return $->save();\n     }\n }\n"
                },
                {
                    "date": 1759857120421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,46 +35,29 @@\n     {\n         return Business::where('appleId',$appleId)->first();\n     }\n \n-    public function changePassword($)\n+    public function changePassword($business)\n     {\n-        $->save();\n-        return $->getAttributes();\n+        $business->save();\n+        return $business->getAttributes();\n     }\n \n     public function update($id, $data, $lang = 'en'): bool\n     {\n-        $ = Business::find($id);\n-        $->fill($data);\n-        return $->save();\n+        $business = Business::find($id);\n+        $business->fill($data);\n+        return $business->save();\n     }\n \n     public function delete($ids)\n     {\n         return Business::whereIn('id', $ids['ids'])->delete();\n     }\n \n-    // public function saveFcmToken($data)\n-    // {\n-    //     return NotificationBasedLocation::create($data);\n-    // }\n-\n-    // public function updateFcmToken($id,$data)\n-    // {\n-    //     $token = NotificationBasedLocation::find($id);\n-    //     $token->fill($data);\n-    //     return $token->save($data);\n-    // }\n-\n-    // public function findFcmToken($token)\n-    // {\n-    //     return NotificationBasedLocation::where('fcm_token',$token)->first();\n-    // }\n-\n     public function updatePassword($id, $data, $lang = 'en'): bool\n     {\n-        $ = Business::where('id',$id)->first();\n-        $->password = $data;\n-        return $->save();\n+        $business = Business::where('id',$id)->first();\n+        $business->password = $data;\n+        return $business->save();\n     }\n }\n"
                },
                {
                    "date": 1759857126287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,8 @@\n use App\\Models\\User;\n use App\\Models\\NotificationBasedLocation;\n use Modules\\Business\\app\\Models\\Business;\n use Spatie\\Permission\\Models\\Role;\n-use Modules\\User\\Filters\\UserFilter;\n \n class BusinessRepository\n {\n \n"
                },
                {
                    "date": 1759857138408,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,8 @@\n <?php\n \n namespace Modules\\Business\\Repositories;\n \n-use App\\Models\\User;\n use App\\Models\\NotificationBasedLocation;\n use Modules\\Business\\app\\Models\\Business;\n use Spatie\\Permission\\Models\\Role;\n \n@@ -29,13 +28,8 @@\n     {\n         return Business::whereEmail($email)->first();\n     }\n \n-    public function findBusinessByAppleId($appleId)\n-    {\n-        return Business::where('appleId',$appleId)->first();\n-    }\n-\n     public function changePassword($business)\n     {\n         $business->save();\n         return $business->getAttributes();\n"
                },
                {
                    "date": 1759857147299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,12 +45,5 @@\n     public function delete($ids)\n     {\n         return Business::whereIn('id', $ids['ids'])->delete();\n     }\n-\n-    public function updatePassword($id, $data, $lang = 'en'): bool\n-    {\n-        $business = Business::where('id',$id)->first();\n-        $business->password = $data;\n-        return $business->save();\n-    }\n }\n"
                },
                {
                    "date": 1759857203755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,14 +28,8 @@\n     {\n         return Business::whereEmail($email)->first();\n     }\n \n-    public function changePassword($business)\n-    {\n-        $business->save();\n-        return $business->getAttributes();\n-    }\n-\n     public function update($id, $data, $lang = 'en'): bool\n     {\n         $business = Business::find($id);\n         $business->fill($data);\n"
                }
            ],
            "date": 1759857024669,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace Modules\\User\\Repositories;\n\nuse App\\Models\\User;\nuse App\\Models\\NotificationBasedLocation;\nuse Spatie\\Permission\\Models\\Role;\nuse Modules\\User\\Filters\\UserFilter;\n\nclass BusinessRepository\n{\n\n    public function getAllUsers()\n    {\n        return User::paginate(10);\n    }\n\n    public function getUserById($id)\n    {\n        return User::where('id',$id)->with('roles')->first();\n    }\n\n    public function create($data)\n    {\n        return User::create($data);\n    }\n\n    public function findUserByEmail($email)\n    {\n        return User::whereEmail($email)->first();\n    }\n\n    public function findUserByAppleId($appleId)\n    {\n        return User::where('appleId',$appleId)->first();\n    }\n\n    public function changePassword($user)\n    {\n        $user->save();\n        return $user->getAttributes();\n    }\n\n    public function update($id, $data, $lang = 'en'): bool\n    {\n        $user = User::find($id);\n        $user->fill($data);\n        return $user->save();\n    }\n\n    public function delete($ids)\n    {\n        return User::whereIn('id', $ids['ids'])->delete();\n    }\n\n    // public function saveFcmToken($data)\n    // {\n    //     return NotificationBasedLocation::create($data);\n    // }\n\n    // public function updateFcmToken($id,$data)\n    // {\n    //     $token = NotificationBasedLocation::find($id);\n    //     $token->fill($data);\n    //     return $token->save($data);\n    // }\n\n    // public function findFcmToken($token)\n    // {\n    //     return NotificationBasedLocation::where('fcm_token',$token)->first();\n    // }\n\n    public function updatePassword($id, $data, $lang = 'en'): bool\n    {\n        $user = User::where('id',$id)->first();\n        $user->password = $data;\n        return $user->save();\n    }\n}\n"
        }
    ]
}