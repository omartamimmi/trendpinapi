{
    "sourceFile": "Modules/User/app/Http/Requests/LoginRequest.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1758214196366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759747260822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,83 @@\n+<?php\n+\n+namespace Modules\\User\\app\\Http\\Requests;\n+\n+use Illuminate\\Foundation\\Http\\FormRequest;\n+use Modules\\User\\Rules\\NotUrl;\n+use Illuminate\\Contracts\\Validation\\Validator;\n+use Illuminate\\Http\\Exceptions\\HttpResponseException;\n+class LoginRequest extends FormRequest\n+{\n+     /**\n+     * Determine if the user is authorized to make this request.\n+     */\n+    public function authorize(): bool\n+    {\n+        return true;\n+    }\n+\n+    /**\n+     * Get the validation rules that apply to the request.\n+     *\n+     * @return array<string, \\Illuminate\\Contracts\\Validation\\Rule|array|string>\n+     */\n+    public function rules(): array\n+    {\n+        return [\n+            'email' => ['required', 'string', 'email'],\n+            'password' => ['required', 'string'],\n+        ];\n+    }\n+\n+    /**\n+     * Attempt to authenticate the request's credentials.\n+     *\n+     * @throws \\Illuminate\\Validation\\ValidationException\n+     */\n+    public function authenticate(): void\n+    {\n+        $this->ensureIsNotRateLimited();\n+\n+        if (! Auth::attempt($this->only('email', 'password'), $this->boolean('remember'))) {\n+            RateLimiter::hit($this->throttleKey());\n+\n+            throw ValidationException::withMessages([\n+                'email' => trans('auth.failed'),\n+            ]);\n+        }\n+\n+        RateLimiter::clear($this->throttleKey());\n+    }\n+\n+    /**\n+     * Ensure the login request is not rate limited.\n+     *\n+     * @throws \\Illuminate\\Validation\\ValidationException\n+     */\n+    public function ensureIsNotRateLimited(): void\n+    {\n+        if (! RateLimiter::tooManyAttempts($this->throttleKey(), 5)) {\n+            return;\n+        }\n+\n+        event(new Lockout($this));\n+\n+        $seconds = RateLimiter::availableIn($this->throttleKey());\n+\n+        throw ValidationException::withMessages([\n+            'email' => trans('auth.throttle', [\n+                'seconds' => $seconds,\n+                'minutes' => ceil($seconds / 60),\n+            ]),\n+        ]);\n+    }\n+\n+    /**\n+     * Get the rate limiting throttle key for the request.\n+     */\n+    public function throttleKey(): string\n+    {\n+        return Str::transliterate(Str::lower($this->input('email')).'|'.$this->ip());\n+    }\n+\n+}\n"
                }
            ],
            "date": 1758214196366,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace Modules\\User\\app\\Http\\Requests;\n\nuse Illuminate\\Foundation\\Http\\FormRequest;\nuse Modules\\User\\Rules\\NotUrl;\nuse Illuminate\\Contracts\\Validation\\Validator;\nuse Illuminate\\Http\\Exceptions\\HttpResponseException;\nclass LoginRequest extends FormRequest\n{\n     /**\n     * Determine if the user is authorized to make this request.\n     */\n    public function authorize(): bool\n    {\n        return true;\n    }\n\n    /**\n     * Get the validation rules that apply to the request.\n     *\n     * @return array<string, \\Illuminate\\Contracts\\Validation\\Rule|array|string>\n     */\n    public function rules(): array\n    {\n        return [\n            'email' => ['required', 'string', 'email'],\n            'password' => ['required', 'string'],\n        ];\n    }\n\n    /**\n     * Attempt to authenticate the request's credentials.\n     *\n     * @throws \\Illuminate\\Validation\\ValidationException\n     */\n    public function authenticate(): void\n    {\n        $this->ensureIsNotRateLimited();\n\n        if (! Auth::attempt($this->only('email', 'password'), $this->boolean('remember'))) {\n            RateLimiter::hit($this->throttleKey());\n\n            throw ValidationException::withMessages([\n                'email' => trans('auth.failed'),\n            ]);\n        }\n\n        RateLimiter::clear($this->throttleKey());\n    }\n\n    /**\n     * Ensure the login request is not rate limited.\n     *\n     * @throws \\Illuminate\\Validation\\ValidationException\n     */\n    public function ensureIsNotRateLimited(): void\n    {\n        if (! RateLimiter::tooManyAttempts($this->throttleKey(), 5)) {\n            return;\n        }\n\n        event(new Lockout($this));\n\n        $seconds = RateLimiter::availableIn($this->throttleKey());\n\n        throw ValidationException::withMessages([\n            'email' => trans('auth.throttle', [\n                'seconds' => $seconds,\n                'minutes' => ceil($seconds / 60),\n            ]),\n        ]);\n    }\n\n    /**\n     * Get the rate limiting throttle key for the request.\n     */\n    public function throttleKey(): string\n    {\n        return Str::transliterate(Str::lower($this->input('email')).'|'.$this->ip());\n    }\n\n}\n"
        }
    ]
}