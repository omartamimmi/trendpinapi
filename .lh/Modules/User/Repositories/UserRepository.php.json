{
    "sourceFile": "Modules/User/Repositories/UserRepository.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1759746756484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1759746756484,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace Modules\\User\\Repositories;\n\nuse App\\Models\\User;\nuse App\\Models\\NotificationBasedLocation;\nuse Spatie\\Permission\\Models\\Role;\nuse Modules\\User\\Filters\\UserFilter;\n\nclass UserRepository\n{\n\n    public function getAllUsers()\n    {\n        return User::paginate(10);\n    }\n\n    public function getUserById($id)\n    {\n        return User::where('id',$id)->with('roles')->first();\n    }\n\n    public function create($data)\n    {\n        return User::create($data);\n    }\n\n    public function findUserByEmail($email)\n    {\n        return User::whereEmail($email)->first();\n    }\n\n    public function findUserByAppleId($appleId)\n    {\n        return User::where('appleId',$appleId)->first();\n    }\n\n    public function changePassword($user)\n    {\n        $user->save();\n        return $user->getAttributes();\n    }\n\n    public function update($id, $data, $lang = 'en'): bool\n    {\n        $user = User::find($id);\n        $user->fill($data);\n        return $user->save();\n    }\n\n    public function delete($ids)\n    {\n        return User::whereIn('id', $ids['ids'])->delete();\n    }\n\n    // public function saveFcmToken($data)\n    // {\n    //     return NotificationBasedLocation::create($data);\n    // }\n\n    // public function updateFcmToken($id,$data)\n    // {\n    //     $token = NotificationBasedLocation::find($id);\n    //     $token->fill($data);\n    //     return $token->save($data);\n    // }\n\n    // public function findFcmToken($token)\n    // {\n    //     return NotificationBasedLocation::where('fcm_token',$token)->first();\n    // }\n\n    public function updatePassword($id, $data, $lang = 'en'): bool\n    {\n        $user = User::where('id',$id)->first();\n        $user->password = $data;\n        return $user->save();\n    }\n}\n"
        }
    ]
}