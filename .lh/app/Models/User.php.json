{
    "sourceFile": "app/Models/User.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1758211745594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1758211745594,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Contracts\\Auth\\MustVerifyEmail;\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\nuse Illuminate\\Notifications\\Notifiable;\nuse Laravel\\Sanctum\\HasApiTokens;\nuse Spatie\\Permission\\Traits\\HasRoles;\nuse LamaLama\\Wishlist\\HasWishlists;\nuse Illuminate\\Database\\Eloquent\\SoftDeletes;\n\nclass User extends Authenticatable\n{\n    use HasApiTokens, HasFactory, Notifiable, HasRoles, HasWishlists, SoftDeletes;\n\n\n    /**\n     * The attributes that are mass assignable.\n     *\n     * @var array<int, string>\n     */\n    protected $fillable = [\n        'name',\n        'email',\n        'password',\n        'provider_name',\n        'provider_id',\n        'device_token',\n        'phone',\n        'birthday',\n        'contact_email',\n        'image_id',\n        'enable_notification',\n        'location_id',\n        'appleId',\n        'fcm_token'\n    ];\n\n    /**\n     * The attributes that should be hidden for serialization.\n     *\n     * @var array<int, string>\n     */\n    protected $hidden = [\n        'password',\n        'remember_token',\n\n    ];\n\n    /**\n     * The attributes that should be cast.\n     *\n     * @var array<string, string>\n     */\n    protected $casts = [\n        'email_verified_at' => 'datetime',\n    ];\n\n    public function getRoleNameAttribute(){\n        $all = $this->getRoleNames();\n\n        if(count($all)){\n            return ucfirst($all[0]);\n        }\n        return '';\n    }\n\n    public function user_interests()\n    {\n        return $this->belongsToMany(User::class,\n            \"user_has_interests\",\n            \"user_id\",\n            \"interest_id\")->withPivot('interest_id');\n    }\n\n    public function user_interest_shop()\n    {\n        return $this->belongsToMany(Shop::class,\n            \"user_has_interest_in_shops\",\n            \"user_id\",\n            \"shop_id\")->withPivot('shop_id');\n    }\n\n    public function routeNotificationForFcm()\n    {\n        return $this->fcm_token;\n    }\n}\n"
        }
    ]
}